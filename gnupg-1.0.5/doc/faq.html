<html><head>
<title>GnuPG FAQ</title>
</head>
<body>
<body bgcolor=#ffffff text=#000000 link=#1f00ff alink=#ff0000 vlink=#9900dd>
<H1>GNUPG FREQUENTLY ASKED QUESTIONS</H1>
<P>
<P>
Version: 1.2<p>
Last-Modified: Apr 4, 2001<p>
Maintained-by: Nils Ellmenreich &lt;nils 'at' gnupg.org&gt;
<P>
<P>
This is the GnuPG FAQ. The latest HTML version is available  
<a href=http://www.gnupg.org/faq.html> here</a>.  
<P>
The index is generated automatically, so there may be errors here.  Not
all questions may be in the section they belong to. Suggestions about
how to improve the structure of this FAQ are welcome.
<P>
Please send additions and corrections to the maintainer. It would be
most convenient if you could provide the answer to be included
here. Your help is very much appreciated.
<P>
Please, don't send message like &quot;This should be a FAQ - what's the
answer?&quot;. If it hasn't been asked before, it isn't a FAQ. In that case
you could search in the mailing list archive.
<P>
<P>
<HR>
<P>
<menu>
<h2><A HREF=#q1>1. GENERAL
</A></h2>
<LI><a HREF=#q1.1>1.1) What is GnuPG?
</a>
<LI><a HREF=#q1.2>1.2) Is GnuPG compatible with PGP?
</a>
<h2><A HREF=#q2>2. SOURCES of INFORMATION
</A></h2>
<LI><a HREF=#q2.1>2.1) Where can I find more information?
</a>
<LI><a HREF=#q2.2>2.2) Where do I get GnuPG?
</a>
<h2><A HREF=#q3>3. INSTALLATION 
</A></h2>
<LI><a HREF=#q3.1>3.1) Which OSes does GnuPG run on?
</a>
<LI><a HREF=#q3.2>3.2) Which random gatherer should I use?
</a>
<LI><a HREF=#q3.3>3.3) How do I include support for RSA and IDEA?
</a>
<h2><A HREF=#q4>4. USAGE
</A></h2>
<LI><a HREF=#q4.1>4.1) What is the recommended key size?
</a>
<LI><a HREF=#q4.2>4.2) Why does it sometimes take so long to create keys?
</a>
<LI><a HREF=#q4.3>4.3) And it really takes long when I work on a remote system. Why?
</a>
<LI><a HREF=#q4.4>4.4) What is the difference between options and commands?
</a>
<LI><a HREF=#q4.5>4.5) I can't delete an user id because it is already deleted on my public
keyring?
</a>
<LI><a HREF=#q4.6>4.6) What are trust, validity and ownertrust?
</a>
<LI><a HREF=#q4.7>4.7) How do I sign a patch file?
</a>
<LI><a HREF=#q4.8>4.8) Where is the &quot;encrypt-to-self&quot; option?
</a>
<LI><a HREF=#q4.9>4.9) How can I get rid of the Version and Comment headers in armored
messages?
</a>
<LI><a HREF=#q4.10>4.10) What does the &quot;You are using the xxxx character set.&quot; mean?
</a>
<LI><a HREF=#q4.11>4.11) How can a get list of key IDs used to encrypt a message?
</a>
<LI><a HREF=#q4.12>4.12) I can't decrypt my symmetrical only (-c) encrypted message with
    a new version of GnuPG.
</a>
<LI><a HREF=#q4.13>4.13) How can I used GnuPG in an automated environment?
</a>
<LI><a HREF=#q4.14>4.14) Which email-client can I use with GnuPG?
</a>
<LI><a HREF=#q4.15>4.15) Can't we have a gpg library?
</a>
<h2><A HREF=#q5>5. COMPATIBILITY ISSUES 
</A></h2>
<LI><a HREF=#q5.1>5.1) How can I encrypt a message with GnuPG so that PGP is able to decrypt it?
</a>
<LI><a HREF=#q5.2>5.2) How do I migrate from PGP 2.x to GnuPG?
</a>
<LI><a HREF=#q5.3>5.3) (removed)
</a>
<LI><a HREF=#q5.4>5.4) Why is PGP 5.x not able to encrypt messages with some keys?
</a>
<LI><a HREF=#q5.5>5.5) Why is PGP 5.x not able to verify my messages?
</a>
<LI><a HREF=#q5.6>5.6) How do I transfer owner trust values from PGP to GnuPG?
</a>
<LI><a HREF=#q5.7>5.7) PGP does not like my secret key.
</a>
<h2><A HREF=#q6>6. PROBLEMS and ERROR MESSAGES
</A></h2>
<LI><a HREF=#q6.1>6.1) Why do I get &quot;gpg: Warning: using insecure memory!&quot;
</a>
<LI><a HREF=#q6.2>6.2) Large File Support doesn't work ..
</a>
<LI><a HREF=#q6.3>6.3) In the edit menu the trust values is not displayed correctly after
signing uids - why?
</a>
<LI><a HREF=#q6.4>6.4) What does &quot;skipping pubkey 1: already loaded&quot; mean?
</a>
<LI><a HREF=#q6.5>6.5) GnuPG 1.0.4 doesn't create ~/.gnupg ...
</a>
<LI><a HREF=#q6.6>6.6) An ElGamal signature does not verify anymore since version 1.0.2 ...
</a>
<LI><a HREF=#q6.7>6.7) Old versions of GnuPG can't verify ElGamal signatures
</a>
<LI><a HREF=#q6.8>6.8) When I use --clearsign, the plain text has sometimes extra dashes 
in it - why?
</a>
<LI><a HREF=#q6.9>6.9) What is the thing with &quot;can't handle multiple signatures&quot;?
</a>
<LI><a HREF=#q6.10>6.10) If I submit a key to a keyserver, nothing happens ...
</a>
<LI><a HREF=#q6.11>6.11) I get &quot;gpg: waiting for lock ...&quot;
</a>
<LI><a HREF=#q6.12>6.12) Older gpg's (e.g., 1.0) have problems with keys from newer gpgs ...
</a>
<LI><a HREF=#q6.13>6.13) With 1.0.4, I get &quot;this cipher algorithm is deprecated ...&quot;
</a>
<LI><a HREF=#q6.14>6.14) Some dates are displayed as ????-??-??, why?
</a>
<LI><a HREF=#q6.15>6.15) I still have a problem. How do I report a bug?
</a>
<LI><a HREF=#q6.16>6.16) Why doesn't GnuPG support X509 certificates?
</a>
<h2><A HREF=#q7>7. ADVANCED TOPICS
</A></h2>
<LI><a HREF=#q7.1>7.1) How does this whole thing work?
</a>
<LI><a HREF=#q7.2>7.2) Why are some signatures with an ELG-E key valid?
</a>
<LI><a HREF=#q7.3>7.3) How does the whole trust thing work?
</a>
<LI><a HREF=#q7.4>7.4) What kind of output is this: &quot;key C26EE891.298, uid 09FB: ....&quot;?
</a>
<LI><a HREF=#q7.5>7.5) How do I interpret some of the informational outputs?
</a>
<LI><a HREF=#q7.6>7.6) Are the header lines of a cleartext signature part of the signed
material?
</a>
<LI><a HREF=#q7.7>7.7) What is the list of preferred algorithms?
</a>
<LI><a HREF=#q7.8>7.8) How do I change the list of preferred algorithms?
</a>
<h2><A HREF=#q8>8. ACKNOWLEDGEMENTS
</A></h2>
</menu>
<P>
<HR>
<P>
<h2>
<A NAME=q1>1. GENERAL
</A></h2>
<P>
<h3>
<a NAME=q1.1>1.1)</a> What is GnuPG?
</h3>
<P>
<a href=http://www.gnupg.org>GnuPG</a> stands for GNU Privacy Guard and
is GNU's tool for secure communication and data storage.
It can be used to encrypt data and to create digital signatures.
It includes an advanced key management facility and is compliant
with the proposed OpenPGP Internet standard as described in
<a href=http://www.gnupg.org/rfc2440.html>RFC 2440</a>. As
such, it is aimed to be compatible with PGP from NAI Inc.
<P>
<h3>
<a NAME=q1.2>1.2)</a> Is GnuPG compatible with PGP?
</h3>
<P>
In general, yes. GnuPG and newer PGP releases should be implementing
the OpenPGP standard. But there are some interoperability
problems. See questions <a HREF=#q5.1>5.1</a>ff. for details.
<P>
<h2>
<A NAME=q2>2. SOURCES of INFORMATION
</A></h2>
<P>
<h3>
<a NAME=q2.1>2.1)</a> Where can I find more information?
</h3>
<P>
Here's a list of on-line resources: <UL> 
<P>
<LI> <a href=http://www.gnupg.org/docs.html>&lt;http://www.gnupg.org/docs.html&gt;</a> is the
documentation page. Have a look at the HOWTOs and the GNU Privacy
Handbook (GPH, available in English, Spanish and Russian). The
latter provides a detailed user's guide to GnuPG. You'll also find a
document about how to convert from PGP 2.x to GnuPG.
<P>
<LI> On <a href=http://lists.gnupg.org>&lt;http://lists.gnupg.org&gt;</a> 
you'll find a searchable online archive of the GnuPG mailing
lists. Most interesting should be gnupg-users for all user-related
issues and gnupg-devel if you want to get in touch with the
developers.
<P>
<B>PLEASE:</B>
Before posting to a list, read this FAQ and the available
documentation. In addition, search the list archive - maybe your
question has already been discussed. This way you help people focus
on topics that have not yet been resolved.
<P>
<LI> The GnuPG source distribution contains a subdirectory 
<PRE>./doc</PRE> where some additional documentation is located
(mainly interesting for hackers, not the casual user).
</UL>
<P>
<h3>
<a NAME=q2.2>2.2)</a> Where do I get GnuPG?
</h3>
<P>
You can download the GNU Privacy Guard from its primary FTP server
<a href=ftp://ftp.gnupg.org/pub/gcrypt>ftp.gnupg.org</a> or from
one of the mirrors: <a href=http://www.gnupg.org/mirrors.html>&lt;http://www.gnupg.org/mirror.html&gt;</a>
The current version is 1.0.4, please upgrade to this version as it
fixes a security bug regarding the verification of multiple signatures.
<P>
<P>
<h2>
<A NAME=q3>3. INSTALLATION 
</A></h2>
<P>
<h3>
<a NAME=q3.1>3.1)</a> Which OSes does GnuPG run on?
</h3>
<P>
It should run on most Unices as well as Windows 95 and Windows NT. A
list of OSes reported to be OK is presented at 
<a href=http://www.gnupg.org/backend.html#supsys>
http://www.gnupg.org/gnupg.html#supsys </a>.
<P>
<h3>
<a NAME=q3.2>3.2)</a> Which random gatherer should I use?
</h3>
<P>
&quot;Good&quot; random numbers are crucial for the security of your
encryption. Different operating systems provide a variety of more or
less quality random data. Linux and *BSD provide kernel generated
random data through /dev/random - this should be the preferred
choice on these systems. Also Solaris users with the SUNWski package
installed have a /dev/random. In these cases, use the configure
option <pre>--enable-static-rnd=linux</pre>. In addition, there's
also the kernel random device by Andi Maier <a href= http://www.cosy.sbg.ac.at/~andi>
&lt;http://www.cosy.sbg.ac.at/~andi&gt;</a>, but it's still beta. Use at
own risk!
<P>
On other systems, the Entropy Gathering Daemon (EGD) is a good
choice. It is a perl-daemon that monitors system activity and hashes
it into random data. See the download page <a href=http://www.gnupg.org/download.html>&lt;http://www.gnupg.org/download.html&gt;</a> 
how to obtain egd. Use <pre>--enable-static-rnd=egd</pre> here.
<P>
If the above options do not work, you can use the random number
generator &quot;unix&quot;. This is <B>very</B> slow and should be
avoided. The random quality isn't very good so don't use it on
sensitive data.
<P>
<h3>
<a NAME=q3.3>3.3)</a> How do I include support for RSA and IDEA?
</h3>
<P>
RSA is included as of GnuPG 1.0.3.
<P>
The official GnuPG distribution does not contain IDEA due to a
patent restriction. The patent does not expire before 2007 so don't
expect official support before then.
<P>
However, there is an unofficial modules to include it even
in earlier version of GnuPG. It's available from <a href=ftp://ftp.gnupg.org/pub/gcrypt/contrib/> 
&lt;ftp://ftp.gnupg.org/pub/gcrypt/contrib/&gt;</a>. Look for <pre>idea.c</pre>. 
<P>
Compilation directives are in the headers of these files. Then add
the following line to your ~/.gnupg/options: 
<pre>
load-extension idea 
</pre>
<P>
<h2>
<A NAME=q4>4. USAGE
</A></h2>
<P>
<h3>
<a NAME=q4.1>4.1)</a> What is the recommended key size?
</h3>
<P>
1024 bit for DSA signatures; even for plain ElGamal
signatures this is sufficient as the size of the hash
is probably the weakest link if the key size is larger
than 1024 bits.  Encryption keys may have greater sizes,
but you should then check the fingerprint of this key:
&quot;gpg --fingerprint --fingerprint &lt;user ID&gt;&quot;.
<P>
As for the key algorithms, you should stick with the default (i.e.,
DSA signature and ElGamal encryption). A ElGamal signing key has the
following disadvantages: the signature is larger, it is hard to
create such a key useful for signatures which can withstand some
real world attacks, you don't get any extra security compared to
DSA, there might be compatibility problems with certain PGP
versions. It has only been introduced because at the time it was
not clear whether there is was patent on DSA.
<P>
<P>
<P>
<h3>
<a NAME=q4.2>4.2)</a> Why does it sometimes take so long to create keys?
</h3>
<P>
The problem here is that we need a lot of random bytes and for that
we (on Linux the /dev/random device) must collect some random data.
It is really not easy to fill the Linux internal entropy buffer; I
talked to Ted Ts'o and he commented that the best way to fill the
buffer is to play with your keyboard.  Good security has its price.
What I do is to hit several times on the shift, control, alternate,
and caps lock keys, because these keys do not produce output to the
screen. This way you get your keys really fast (it's the same thing
PGP2 does).
<P>
Another problem might be another program which eats up your random
bytes (a program (look at your daemons) that reads from
/dev/[u]random).
<P>
<h3>
<a NAME=q4.3>4.3)</a> And it really takes long when I work on a remote system. Why?
</h3>
<P>
Don't do this at all! You should never create keys or even use GnuPG
on a remote system because you normally have no physical control
over your secret key ring (which is in most cases vulnerable to
advanced dictionary attacks) - I strongly encourage everyone to only
create keys on a local computer (a disconnected laptop is probably
the best choice) and if you need it on your connected box (I know:
We all do this) be sure to have a strong password for your account
and for your secret key and that you can trust your system
administrator.
<P>
When I check GnuPG on a remote system via ssh (I have no Alpha here
;-) I have the same problem.  It takes a *very* long time to create
the keys, so I use a special option, --quick-random, to generate
insecure keys which are only good for some tests.
<P>
<h3>
<a NAME=q4.4>4.4)</a> What is the difference between options and commands?
</h3>
<P>
If you do a 'gpg --help', you will get two separate lists. The first
is a list of commands. The second is a list of options. Whenever you
run GPG, you <B>must</B> pick exactly one command (with one
exception, see below). You <B>may</B> pick one or more options.
The command should, just by convention, come at the end of the
argument list, after all the options. If the command takes a file
(all the basic ones do), the filename comes at the very end. So the
basic way to run gpg is: 
<P>
<pre> 
gpg [--option something] [--option2] [--option3 something] --command file 
</pre> 
<P>
Some options take arguments, for example the --output option (which
can be abbreviated -o) is an option that takes a filename. The
option's argument must follow immediately after the option itself,
otherwise gpg doesn't know which option the argument is supposed to
go with. As an option, --output and its filename must come before
the command. The --recipient (-r) option takes a name or keyid to
encrypt the message to, which must come right after the -r argument.
The --encrypt (or -e) command comes after all the options followed
by the file you wish to encrypt. So use 
<P>
<pre> 
gpg -r alice -o secret.txt -e test.txt 
</pre> 
<P>
If you write the options out in full, it is easier to read 
<P>
<pre>
gpg --recipient alice --output secret.txt --encrypt test.txt 
</pre>
<P>
If you're saving it in a file called &quot;.txt&quot; then you'd probably
expect to see ASCII-armored text in there, so you need to add the
--armor (-a) option, which doesn't take any arguments.  
<P>
<pre> 
gpg --armor --recipient alice --output secret.txt --encrypt test.txt
</pre> 
<P>
If you imagine square brackets around the optional parts, it becomes
a bit clearer: 
<P>
<pre> 
gpg [--armor] [--recipient alice] [--output secret.txt] --encrypt test.txt 
</pre> 
<P>
The optional parts can be rearranged any way you want.  
<P>
<pre> 
gpg --output secret.txt --recipient alice --armor --encrypt test.txt
</pre> 
<P>
If your filename begins with a hyphen (e.g. &quot;-a.txt&quot;), gnupg assumes
this is an option and may complain.  To avoid this you have either
to use &quot;./-a.txt&quot; or stop the option and command processing with two
hyphens: &quot;-- -a.txt&quot;.
  
<B>The exception:</B> signing and encrypting at the same time. Use
<pre> gpg [--options] --sign --encrypt foo.txt </pre>
<P>
<P>
<h3>
<a NAME=q4.5>4.5)</a> I can't delete an user id because it is already deleted on my public
keyring?
</h3>
<P>
Because you can only select from the public key ring, there is no
direct way to do this.  However it is not very complicated to do it
anyway.  Create a new user id with exactly the same name and you
will see that there are now two identical user ids on the secret
ring.  Now select this user id and delete it.  Both user ids will be
removed from the secret ring.
<P>
<h3>
<a NAME=q4.6>4.6)</a> What are trust, validity and ownertrust?
</h3>
<P>
&quot;ownertrust&quot; is used instead of &quot;trust&quot; to make clear that this is
the value you have assigned to a key to express how much you trust
the owner of this key to correctly sign (and so introduce) other
keys.  &quot;validity&quot;, or calculated trust, is a value which says how
much GnuPG thinks a key is valid (that it really belongs to the one
who claims to be the owner of the key).  For more see the chapter
&quot;The Web of Trust&quot; in the Manual.
<P>
<h3>
<a NAME=q4.7>4.7)</a> How do I sign a patch file?
</h3>
<P>
Use &quot;gpg --clearsign --not-dash-escaped ...&quot;.  The problem with
--clearsign is that all lines starting with a dash are quoted with
&quot;- &quot;; obviously diff produces many of lines starting with a dash and
these are then quoted and that is not good for patch ;-).  To use a
patch file without removing the cleartext signature, the special
option --not-dash-escaped may be used to suppress generation of
these escape sequences.  You should not mail such a patch because
spaces and line endings are also subject to the signature and a
mailer may not preserve these.  If you want to mail a file you can
simply sign it using your MUA.
<P>
<h3>
<a NAME=q4.8>4.8)</a> Where is the &quot;encrypt-to-self&quot; option?
</h3>
<P>
Use &quot;--encrypt-to your_keyid&quot;.  You can use more than one of these
options. To temporary override the use of this additional keys, you
can use the option &quot;--no-encrypt-to&quot;.
<P>
<h3>
<a NAME=q4.9>4.9)</a> How can I get rid of the Version and Comment headers in armored
messages?
</h3>
<P>
Use &quot;--no-version --comment ''&quot;.  Note that the left over blank line
is required by the protocol.
<P>
<h3>
<a NAME=q4.10>4.10)</a> What does the &quot;You are using the xxxx character set.&quot; mean?
</h3>
<P>
This note is printed when UTF8 mapping has to be done.  Make sure
that the displayed charset is the one you have activated on your
system &quot;iso-8859-1&quot; is the most used one, so this is the default.
You can change the charset with the option &quot;--charset&quot;.  It is
important that you active character set matches the one displayed -
if not, restrict yourself to plain 7 bit ASCII and no mapping has to
be done.
<P>
<h3>
<a NAME=q4.11>4.11)</a> How can a get list of key IDs used to encrypt a message?
</h3>
<P>
<pre> gpg --batch --decrypt --list-only --status-fd 1 2&gt;/dev/null | \
awk '/^\[GNUPG:\] ENC_TO / { print $3 }' </pre>
<P>
<h3>
<a NAME=q4.12>4.12)</a> I can't decrypt my symmetrical only (-c) encrypted message with
    a new version of GnuPG.
</h3>
<P>
There used to be a bug in GnuPG &lt; 1.0.1 which happens only if 3DES
or Twofish has been used for symmetric only encryption (this has
never been the default).  The bug has been fixed but to enable you
to decrypt old messages, you should run gpg with the option
&quot;--emulate-3des-s2k-bug&quot;, decrypt the message and encrypt it again
without this option.  The option will be removed in 1.1, so better
re-encrypt your message now.
<P>
<h3>
<a NAME=q4.13>4.13)</a> How can I used GnuPG in an automated environment?
</h3>
<P>
You should use the option --batch and don't use pass phrases as
there is usually no way to store it more secure than the secret
keyring itself. The suggested way to create the keys for the
automated environment is:
<P>
 On a secure machine:
<OL> <LI> If you want to do automatic signing, create a signing
subkey for your key (edit menu, choose &quot;addkey&quot; and the DSA).  [H
LI] Make sure that you use a passphrase (Needed by the current
implementation) <LI> gpg --export-secret-subkeys --no-comment foo
&gt;secring.auto <LI> Copy secring.auto and the public keyring to a
test directory.  <LI> Cd to this directory.  <LI> gpg --homedir
. --edit foo and use &quot;passwd&quot; to remove the pass-phrase from the
subkeys.  You may also want to remove all unused subkeys.  <LI>
copy secring.auto to a floppy and carry it to the target box </OL>
On the target machine: <OL> <LI> Install secring.auto as secret
keyring.  <LI> Now you can start your new service.  It is a good
idea to install some intrusion detection system so that you
hopefully get a notice of an successful intrusion, so that you in
turn can revoke all the subkeys installed on that machine and
install new subkeys.  </OL>
<P>
<h3>
<a NAME=q4.14>4.14)</a> Which email-client can I use with GnuPG?
</h3>
<P>
Using GnuPG to encrypt email is one of the most popular
uses. Several mail clients or mail user-agents (MUA) support GnuPG
at varying degrees. Simplifying a bit, there are two ways a mail can
be encrypted with GnuPG: the &quot;old style&quot; ASCII armor, i.e. plain
text encryption, and RFC2015 style (previously PGP/MIME, now
OpenPGP). The latter has full MIME support. Some MUAs support only
one of them, so whichever you actually use depends on your needs as
well as the capabilities of your addressee.
<P>
The following list is probably not exhaustive:
<P>
OpenPGP: Mutt (Unix), Emacs/Mew, Becky2 (Windows, with plugin),
         TkRat (Unix). There is effort for a Mozilla plugin and
	     Emacs/GNUS has support in the current CVS.
<P>
ASCII:   Emacs/{VM,GNUS}/MailCrypt, Mutt(Unix), Pine(Unix), and
         probably many more.
<P>
A good overview of PGP-support is present at 
<a href=http://cryptorights.org/pgp-users/pgp-mail-clients.html>http://cryptorights.org/pgp-users/pgp-mail-clients.html</a>. 
Direct GnuPG support is not mentioned, however, it certain cases it
may be possible to use a wrapper. 
<P>
<P>
<h3>
<a NAME=q4.15>4.15)</a> Can't we have a gpg library?
</h3>
<P>
This has been frequently requested. However, the current viewpoint
of the GnuPG maintainers is that this would lead to several security
issues and will therefore not be implemented in the foreseeable
future. However, for some areas of areas of application gpgme could
do the trick. You'll find it at 
<a href=ftp://ftp.guug.de/pub/gcrypt/alpha/gpgme>ftp://ftp.guug.de/pub/gcrypt/alpha/gpgme</a>
<P>
<h2>
<A NAME=q5>5. COMPATIBILITY ISSUES 
</A></h2>
<P>
<P>
<h3>
<a NAME=q5.1>5.1)</a> How can I encrypt a message with GnuPG so that PGP is able to decrypt it?
</h3>
<P>
It depends on the PGP version.<UL>
<P>
<LI> PGP 2.x 
<P>
You can't do that because PGP 2.x normally uses IDEA which is not
supported by GnuPG as it is patented (see <a HREF=#q3.3>3.3</a>), but if you
have a modified version of PGP you can try this:
<P>
<pre> gpg --rfc1991 --cipher-algo 3des ...  </pre>
<P>
Please don't pipe the data to encrypt to gpg but provide it using a
filename; otherwise, PGP 2 will not be able to handle it.
<P>
As for conventional encryption, you can't do this for PGP 2.  
<P>
<P>
<LI> PGP 5.x and higher
<P>
You need to provide two additional options: 
<pre>--compress-algo 1 --cipher-algo cast5 </pre> 
<P>
You may also use &quot;3des&quot; instead of &quot;cast5&quot;, &quot;blowfish&quot; does not
work with all versions of pgp5.  You may also want to put <pre>
compress-algo 1 </pre> into your ~/.gnupg/options file - this does
not affect normal gnupg operation.
<P>
This applies to conventional encryption as well.
</UL>
<P>
<h3>
<a NAME=q5.2>5.2)</a> How do I migrate from PGP 2.x to GnuPG?
</h3>
<P>
PGP 2 uses the RSA and IDEA encryption algorithms. Whereas the RSA
patent has expired and RSA is included as of GnuPG 1.0.3, the IDEA
algorithm is still patented until 2007. Under certain conditions you
may use IDEA even today. In that case, you may refer to Question
<a HREF=#q3.3>3.3</a> about how to add IDEA support to GnuPG and read
<a href=http://www.gnupg.org/gph/en/pgp2x.html>http://www.gnupg.org/gph/en/pgp2x.html</a>
to perform the migration. 
<P>
<P>
<h3>
<a NAME=q5.3>5.3)</a> (removed)
</h3>
<P>
(empty)
<P>
<h3>
<a NAME=q5.4>5.4)</a> Why is PGP 5.x not able to encrypt messages with some keys?
</h3>
<P>
PGP Inc refuses to accept ElGamal keys of type 20 even for
encryption.  They only support type 16 (which is identical at least
for decryption).  To be more inter-operable, GnuPG (starting with
version 0.3.3) now also uses type 16 for the ElGamal subkey which is
created if the default key algorithm is chosen.  You may add an type
16 ElGamal key to your public key which is easy as your key
signatures are still valid.
<P>
<h3>
<a NAME=q5.5>5.5)</a> Why is PGP 5.x not able to verify my messages?
</h3>
<P>
PGP 5.x does not accept V4 signatures for data material but OpenPGP
requires generation of V4 signatures for all kind of data.  Use the
option &quot;--force-v3-sigs&quot; to generate V3 signatures for data.
<P>
<h3>
<a NAME=q5.6>5.6)</a> How do I transfer owner trust values from PGP to GnuPG?
</h3>
<P>
There is a script in the tools directory to help you: After you have
imported the PGP keyring you can give this command: 
<P>
<pre> 
$ lspgpot pgpkeyring | gpg --import-ownertrust 
</pre> 
<P>
where pgpkeyring is the original keyring and not the GnuPG one you
might have created in the first step.
<P>
<h3>
<a NAME=q5.7>5.7)</a> PGP does not like my secret key.
</h3>
<P>
Older PGPs probably bail out on some private comment packets used by
GnuPG.  These packets are fully in compliance with OpenPGP; however
PGP is not really OpenPGP aware.  A workaround is to export the
secret keys with this command: 
<pre> $ gpg --export-secret-keys --no-comment -a your-key-id </pre>
<P>
Another possibility is this: by default, GnuPG encrypts your secret
key using the Blowfish symmetric algorithm. Older PGPs will only
understand 3DES, CAST5, or IDEA symmetric algorithms. Using the
following method you can re-encrypt your secret gpg key with a
different algo:
<P>
<pre>
 $ gpg --s2k-cipher-algo=CAST5 --s2k-digest-algo=SHA1 \
      --compress-algo=1  --edit-key &lt;username&gt;
</pre>
<P>
Then use passwd to change the password (just change it to the same
thing, but it will encrypt the key with CAST5 this time).
<P>
Now you can export it and PGP should be able to handle it.
<P>
For PGP 6.x the following options work to export a key:
<pre>
 $ gpg --s2k-cipher-algo 3des --compress-algo 1 --rfc1991 \
       --export-secret-keys &lt;Key-ID&gt;
</pre>
<P>
<h2>
<A NAME=q6>6. PROBLEMS and ERROR MESSAGES
</A></h2>
<P>
<h3>
<a NAME=q6.1>6.1)</a> Why do I get &quot;gpg: Warning: using insecure memory!&quot;
</h3>
<P>
On many systems this program should be installed as
setuid(root). This is necessary to lock memory pages.  Locking
memory pages prevents the operating system from writing them
to disk and thereby keeping your secret keys really secret. If you
get no warning message about insecure memory your operating system
supports locking without being root. The program drops root
privileges as soon as locked memory is allocated.
<P>
On UnixWare 2.x and 7.x you should install GnuPG with the
'plock' privilege to get the same effect:
<pre>
	filepriv -f plock /path/to/gpg
</pre>
<P>
If you can't or don't want to install GnuPG setuid(root), you can
use the option &quot;--no-secmem-warning&quot; or put <pre>
no-secmem-warning </pre> in your ~/.gnupg/options file (this
disables the warning).
<P>
On some systems (e.g., Windows) GnuPG does not lock memory pages
and older GnuPG versions (&lt;=1.0.4) issue the warning
<pre>
gpg: Please note that you don't have secure memory
</pre>
This warning can't be switched off by the above option because it
was thought to be a too serious issue. However, it confused users
too much so the warning was eventually removed.
<P>
<h3>
<a NAME=q6.2>6.2)</a> Large File Support doesn't work ..
</h3>
<P>
LFS is correctly working in post-1.0.4 CVS. If configure doesn't
detect it correctly, try a different (i.e., better) compiler. egcs
1.1.2 works fine, other gccs sometimes don't. BTW, several
compilation problems of GnuPG 1.0.3 and 1.0.4 on HP-UX and Solaris
were due to broken LFS support.
<P>
<h3>
<a NAME=q6.3>6.3)</a> In the edit menu the trust values is not displayed correctly after
signing uids - why?
</h3>
<P>
This happens because the some informations are stored immediately in
the trustdb, but the actual trust calculation can be done after the
save command.  This is a not easy to fix design bug which will be
addressed in some future release.
<P>
<h3>
<a NAME=q6.4>6.4)</a> What does &quot;skipping pubkey 1: already loaded&quot; mean?
</h3>
<P>
As of GnuPG 1.0.3, the RSA algorithm is included. If you still have
a &quot;load-extension rsa&quot; in your .options files, the above message
occurs. Just remove the load command from the .options file.
<P>
<h3>
<a NAME=q6.5>6.5)</a> GnuPG 1.0.4 doesn't create ~/.gnupg ...
</h3>
<P>
That's a known bug, already fixed in the CVS (and will be in the
next release, of course).
<P>
<h3>
<a NAME=q6.6>6.6)</a> An ElGamal signature does not verify anymore since version 1.0.2 ...
</h3>
<P>
Use the option --emulate-md-encode-bug.
<P>
<h3>
<a NAME=q6.7>6.7)</a> Old versions of GnuPG can't verify ElGamal signatures
</h3>
<P>
Update to GnuPG 1.0.2 or newer.
<P>
<P>
<h3>
<a NAME=q6.8>6.8)</a> When I use --clearsign, the plain text has sometimes extra dashes 
in it - why?
</h3>
<P>
This is called dash-escaped text and required by OpenPGP.
It always happens when a line starts with a dash (&quot;-&quot;) and is needed
to make the lines that structure signature and text
(i.e., &quot;-----BEGIN PGP SIGNATURE-----&quot;) to be the only lines that
start with two dashes.
<P>
If you use GnuPG to process those messages, the extra dashes are removed.
Good mail clients remove those extra dashes when displaying such a 
message.      
<P>
<h3>
<a NAME=q6.9>6.9)</a> What is the thing with &quot;can't handle multiple signatures&quot;?
</h3>
<P>
Due to different message formats GnuPG is not always able to split a
file with multiple signatures unambiguously into its parts.  This
error message informs you that there is something wrong with the input.
<P>
The only way to have multiple signatures in a file is by using the 
OpenPGP format with one-pass-signature packets (which is GnuPG's
default) or the cleartext signed format.
<P>
<h3>
<a NAME=q6.10>6.10)</a> If I submit a key to a keyserver, nothing happens ...
</h3>
<P>
You are most likely using GnuPG on Windows 1.0.2 or older. That's
feature isn't yet implemented, but it's a bug not to say it. Newer
versions issue a warning. Upgrade to 1.0.4 or newer.
<P>
<h3>
<a NAME=q6.11>6.11)</a> I get &quot;gpg: waiting for lock ...&quot;
</h3>
<P>
A previous gpg has most likely exited abnormally and left a lock
file. Go to ~/.gnupg and look for .*.lock files and remove them.
<P>
<h3>
<a NAME=q6.12>6.12)</a> Older gpg's (e.g., 1.0) have problems with keys from newer gpgs ...
</h3>
<P>
As of 1.0.3, keys generated with gpg are created with preferences to
TWOFISH (and AES since 1.0.4) and that also means that they have the
capability to use the new MDC encryption method.  This will go into
OpenPGP soon and is also suppoted by PGP 7.  This new method avoids
a (not so new) attack on all email encryption systems.
<P>
This in turn means that pre-1.0.3 gpg's have problems with newer
key. Because of security fixes, you should keep your gpg
installation in a recent state anyway. As a workaround, you can
force gpg to use a previous default cipher algo by putting 
<pre>cipher-algo cast5</pre> into your options file.
<P>
<h3>
<a NAME=q6.13>6.13)</a> With 1.0.4, I get &quot;this cipher algorithm is deprecated ...&quot;
</h3>
<P>
If you just generated a new key and get this message while
encrypting, you've witnessed a bug in 1.0.4. It uses the new AES
cipher Rijndael that is incorrectly being referred as
&quot;deprecated&quot;. Ignore this warning, more recent versions of gpg are
corrected.
<P>
<h3>
<a NAME=q6.14>6.14)</a> Some dates are displayed as ????-??-??, why?
</h3>
<P>
Due to constraints in most libc implementations, dates beyond
2038-01-19 can't be displayed correctly. 64 bit OSes are not
affected by this problem.  To avoid printing wrong dates, GnuPG
instead prints some question marks.  To see the correct value, you
can use the options --with-colons and --fixed-list-mode.
<P>
<h3>
<a NAME=q6.15>6.15)</a> I still have a problem. How do I report a bug?
</h3>
<P>
Are you sure that it's not been mentioned somewhere on the mailing
lists? Did you have a look at the bug list (You'll find a link to
the list of reported bugs on the documentation page). If you're not
sure about it being a bug, you can send mail to the gnupg-devel
list. Otherwise, use the GUUG bug tracking system 
<a href=http://bugs.guug.de/Reporting.html>
http://bugs.guug.de/Reporting.html</a>.   
<P>
<h3>
<a NAME=q6.16>6.16)</a> Why doesn't GnuPG support X509 certificates?
</h3>
<P>
GnuPG, first and foremost, is an implementation of the OpenPGP
standard (RFC 2440), which is a competing infrastructure, different
from X509.
<P>
They are both public-key cryptosystems, but how the public keys are
actually handled is different.
<P>
<h2>
<A NAME=q7>7. ADVANCED TOPICS
</A></h2>
<P>
<h3>
<a NAME=q7.1>7.1)</a> How does this whole thing work?
</h3>
<P>
To generate a secret/public keypair, run <pre> gpg --gen-key
</pre> and choose the default values.
<P>
Data that is encrypted with a public key can only be decrypted by
the matching secret key.  The secret key is protected by a password,
the public key is not.
<P>
So to send your friend a message, you would encrypt your message
with his public key, and he would only be able to decrypt it by
having the secret key and putting in the password to use his secret
key.
<P>
GnuPG is also useful for signing things.  Things that are encrypted
with the secret key can be decrypted with the public key. To sign
something, a hash is taken of the data, and then the hash is in some
form encoded with the secret key. If someone has your public key, they
can verify that it is from you and that it hasn't changed by checking
the encoded form of the hash with the public key.
  
A keyring is just a large file that stores keys. You have a public
keyring where you store yours and your friend's public keys.  You have
a secret keyring that you keep your secret key on, and be very careful
with this secret keyring: Never ever give anyone else access to it and
use a *good* passphrase to protect the data in it.
  
You can 'conventionally' encrypt something by using the option 'gpg
-c'.  It is encrypted using a passphrase, and does not use public and
secret keys.  If the person you send the data to knows that
passphrase, they can decrypt it. This is usually most useful for
encrypting things to yourself, although you can encrypt things to your
own public key in the same way.  It should be used for communication
with partners you know and where it is easy to exchange the
passphrases (e.g. with your boy friend or your wife).  The advantage
is that you can change the passphrase from time to time and decrease
the risk, that many old messages may be decrypted by people who
accidently got your passphrase.
  
You can add and copy keys to and from your keyring with the 'gpg
--import' and 'gpg --export' option. 'gpg --export-secret-keys' will
export secret keys. This is normally not useful, but you can generate
the key on one machine then move it to another machine.
  
Keys can be signed under the 'gpg --edit-key' option.  When you sign a
key, you are saying that you are certain that the key belongs to the
person it says it comes from.  You should be very sure that is really
that person: You should verify the key fingerprint
<pre>
    gpg --fingerprint user-id
</pre>
over phone (if you really know the voice of the other person) or at a
key signing party (which are often held at computer conferences) or at
a meeting of your local GNU/Linux User Group.
  
Hmm, what else.  You may use the option &quot;-o filename&quot; to force output
to this filename (use &quot;-&quot; to force output to stdout). &quot;-r&quot; just lets
you specify the recipient (which public key you encrypt with) on the
command line instead of typing it interactively.
  
Oh yeah, this is important. By default all data is encrypted in some
weird binary format.  If you want to have things appear in ASCII text
that is readable, just add the '-a' option.  But the preferred method
is to use a MIME aware mail reader (Mutt, Pine and many more).
  
There is a small security glitch in the OpenPGP (and therefore GnuPG)
system; to avoid this you should always sign and encrypt a message
instead of only encrypting it.
<P>
<P>
<h3>
<a NAME=q7.2>7.2)</a> Why are some signatures with an ELG-E key valid?
</h3>
<P>
These are ElGamal Key generated by GnuPG in v3 (rfc1991) packets.
The OpenPGP draft later changed the algorithm identifier for ElGamal
keys which are usable for signatures and encryption from 16 to 20.
GnuPG now uses 20 when it generates new ElGamal keys but still
accept 16 (which is according to OpenPGP &quot;encryption only&quot;) if this
key is in a v3 packet.  GnuPG is the only program which had used
these v3 ElGamal keys - so this assumption is quite safe.
<P>
<P>
<h3>
<a NAME=q7.3>7.3)</a> How does the whole trust thing work?
</h3>
<P>
It works more or less like PGP.  The difference is that the trust is
computed at the time it is needed. This is one of the reasons for
the trustdb which holds a list of valid key signatures.  If you are
not running in batch mode you will be asked to assign a trust
parameter (ownertrust) to a key.
<P>
<P>
<P>
You can see the validity (calculated trust value) using this
command.
<pre> gpg --list-keys --with-colons </pre> 
<P>
If the first field is &quot;pub&quot; or &quot;uid&quot;, the second field shows you the
trust: 
<P>
<pre> 
 o = Unknown (this key is new to the system) 
 e = The key has expired 
 q = Undefined (no value assigned) 
 n = Don't trust    this key at all
 m = There is marginal trust in this key 
 f = The key    is full trusted 
 u = The key is ultimately trusted; this is only used
     for keys for which the secret key is also available.  
 r = The key    has been revoked 
 d = The key has been disabled 
</pre> 
<P>
The value in the &quot;pub&quot; record is the best one of all &quot;uid&quot; records.
  
You can get a list of the assigned trust values (how much you trust
the owner to correctly sign another person's key)
  
<pre> gpg --list-ownertrust </pre> The first field is the
fingerprint of the primary key, the second field is the assigned
value: 
<P>
<pre> 
 - = No Ownertrust value yet assigned.  
 n = Never trust this keyholder to correctly verify others signatures.  
 m = Have marginal trust in the keyholders capability to sign other
     keys.  
 f = Assume that the key holder really knows how to sign keys.  
 u = No need to trust ourself because we have the secret key.  
</pre> 
<P>
Keep these values confidential because they express your opinions
about others.  PGP stores this information with the keyring thus it
is not a good idea to publish a PGP keyring instead of exporting the
keyring.  gnupg stores the trust in the trust-DB so it is okay to
give a gpg keyring away (but we have a --export command too).
<P>
<h3>
<a NAME=q7.4>7.4)</a> What kind of output is this: &quot;key C26EE891.298, uid 09FB: ....&quot;?
</h3>
<P>
This is the internal representation of an user id in the trustdb.
&quot;C26EE891&quot; is the keyid, &quot;298&quot; is the local id (a record number in
the trustdb) and &quot;09FB&quot; is the last two bytes of a ripe-md-160 hash
of the user id for this key.
<P>
<h3>
<a NAME=q7.5>7.5)</a> How do I interpret some of the informational outputs?
</h3>
<P>
While checking the validity of a key, GnuPG sometimes prints some
information which is prefixed with information about the checked
item.  <pre> &quot;key 12345678.3456&quot; </pre> This is about the key
with key ID 12345678 and the internal number 3456, which is the
record number of the so called directory record in the trustdb.  
<pre> &quot;uid 12345678.3456/ACDE&quot; </pre> This is about the user ID for
the same key.  To identify the user ID the last two bytes of a
ripe-md-160 over the user ID ring is printed.  <pre> &quot;sig
12345678.3456/ACDE/9A8B7C6D&quot; </pre> This is about the signature
with key ID 9A8B7C6D for the above key and user ID, if it is a
signature which is direct on a key, the user ID part is empty
(..//..).
<P>
<h3>
<a NAME=q7.6>7.6)</a> Are the header lines of a cleartext signature part of the signed
material?
</h3>
<P>
No.  For example you can add or remove &quot;Comment:&quot; lines.  They have
a purpose like the mail header lines.  However a &quot;Hash:&quot; line is
needed for OpenPGP signatures to tell the parser which hash
algorithm to use.
<P>
<P>
<h3>
<a NAME=q7.7>7.7)</a> What is the list of preferred algorithms?
</h3>
<P>
The list of preferred algorithms is a list of cypher, hash and
compression algorithms stored in the self-signature of a key during
key generation. When you encrypt a document, GnuPG uses this list
(which is then part of a public key) to determine which algorithms
to use. Basically it tells other people what algorithms the
recipient is able to handle and provides an order of preference.
<P>
<h3>
<a NAME=q7.8>7.8)</a> How do I change the list of preferred algorithms?
</h3>
<P>
Currently the default is hard-wired into the GnuPG source code.
You'll have to change <pre>g10/keygen.c</pre> and recompile. The
function you'll have to change is <pre>keygen_add_std_prefs</pre>.  
The code is pretty self-explanatory. The constants used to
denote the algorithms are defined in <pre>include/cipher.h</pre>.
<P>
After having done that, generate a new key pair (or a new encryption
subkey) with the modified executable. This new key will have the
modified preferences and can then be used with unmodified executables.
<P>
To modify the preferences of an existing key, use a modified
executable (see above) to change the expiry date and then save the
key. The use your original expiry date and save the key again. Now
you've got the prefs changed and can use the key again with your
unmodified executable.
<P>
Changing the list of preferences with an unmodified GnuPG
executable (possibly in the edit-key menu) is on the TODO list and
planned for future releases.
<P>
<P>
<h2>
<A NAME=q8>8. ACKNOWLEDGEMENTS
</A></h2>
<P>
Many thanks to Werner Koch for the original FAQ file and to all
posters to gnupg-users and gnupg-devel. They all provided most of
the answers.
<P>
Also thanks to Casper Dik for providing me with a script to generate
this FAQ (he uses it for the excellent Solaris2 FAQ).
<P>
<HR>
<P>
Copyright (C) 2000 Free Software Foundation, Inc. , 
59 Temple Place - Suite 330, Boston, MA 02111, USA 
<P>
Verbatim copying and distribution of this entire article is permitted in
any medium, provided this notice is preserved.
</body></html>
